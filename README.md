# Dellcoin - blockchain based decentralized cloud storage.


Сервис позволяет шарить свое свободное дисковое пространство за деньги. 
В его основе:
1) Децентрализованная p2p сеть, которая используется для обмена файлами
2) Smart contract - арбитр, гарантирующий оказание услуг и оплату
3) Etherium based токен "dellcoin" - используемый для платежей внутри системы.  


Клиенты - выкладывают свои файлы в облако.
Пиры (сервера) - расшаривают свои диски, хранят данные клиентов, за хранение и IO получают вознаграждение.
Smart contract - программа-арбитр, которая хранится в публичном блокчен Etherium и гарантирует оказание услуг клиентам и оплату серверам.

####Проблема
У одних пользователей мого свободного диского пространства, которое можно сдавать в аренду и зарабатывать на этом.

Другим пользователям нужно хранить свою информацию где-то и сейчас они используют cloud storages Amazon CS3, Google Cloud, Microsoft Azure и пр. Это довольно дорого.

####Решение
Если хранить данные одних пользователей на дисках других, то все будут довольны: одни будут получать дополнительный доход, другие будут получать сервис дешевле, чем централизованные cloud storages.

Выгода для DELLEMC: компания берет комиссию 5% со стоимости хранения всех данных. 

Конкурентное преимущество DELLEMC: можно предустанавливать клиентов на свои ноутбуки.

Сейчас 1 Tb ~ 100$
Если сделать цену за хранение 1Tb 25$, то DELLEMC в месяц с каждого Tb будет получать 1.25$.

То есть с 1млн Tb 1,250,000$

Dell Technologies came in third with 40.7 million PCs shipped in 2016, up 4.3% from the previous year. Dell had about 14% of the PC market.
http://fortune.com/2017/01/11/lenovo-hp-dell-pc-market/

Если предположить, что каждый проданный компьютер может расшарить 100Gb. Имеем 4M Tb которые можно расшаривать каждый месяц, или 5M$ для DELLEMC каждый месяц. 
 


####Существующие проекты/стартапы
1) http://filecoin.io
    Проект Filecoin завершил ICO с рекордным показателем в $257 млн
    https://forklog.com/proekt-filecoin-zavershil-ico-s-rekordnym-pokazatelem-v-257-mln/
2) https://storj.io
    Текущая капитализация 80M$ https://coinmarketcap.com/currencies/storj
3) https://sia.tech


Geth (блокчейн):

    geth --dev --minerthreads 1 --rpccorsdomain "*" --rpc --rpcaddr "0.0.0.0" --rpcapi "admin,debug,miner,shh,txpool,personal,eth,net,web3" console

Mist (кошелек):

    ./mist --rpc http://localhost:8545  --swarmurl "null"

### Алгоритм
##### Клиент выкладывает данные серверу. 

Клиент сверяет контрольную сумму по всему файлу, которую возвращаем север.

Подделка контрольной суммы для обоих сторон (клиента и сервера) на этом этапе не имеет смысла - если хеш не совпал - хранение просто не начинается.
    
##### Сервер хранит данные клиета

На этом этапе важно, чтобы была гарантия в том, что сервер действительно хранит данные, а не просто удалил их после получения.
Для этого, каждый день у сервера запрашиваются контрольные суммы случайных блоков файла, и сверяются с сохраненными хешами.

Хеши контрольных блоков возможно должны сохраняться в блокчейн в момент выкладывания файла, чтобы клиент не имел возможность потом изменить их и скопрометировать сервер.
    
##### Клиент скачивает обратно свои данные с сервера.

На этом этапе важно, чтобы:
1) Сервер гарантированно получил оплату за храние данных только в том случае, если он прислал клиенту оригинальный файл.
2) Клиент гарантированно оплатил, если полученный контент оригинальный. Клиент не должен иметь возможности скомпрометировать сервер, не должен иметь возможности получив настоящий файл, сказать что он не настоящий.

Для этого сервер отправляет клиенту преобразованный контент оригинального файла.
Клиент может превратить его в оригинальный, только используя ключ.
Клиент даже не знает, прислали ему оригинальный контент или нет.

Клиент получит ключт от смарт-контракта для преобразования, а сервер получит свои деньги, после того, как контракт удостоверится,
что присланный контент - это оригинал. 
После этого, деньги будут начислены на счет сервера, а клиент получит ключ. 
В нашем случае, сервер к каждому символу оригинального файла добавляется random().next(). Seed является ключем.
Клиент считает сумму, по символам, которые прислал сервер. И сумму оригинальных символов. Передает арбитру.
Арбитр имея seed сервера, может получить все random значения, которые добавил сервер при отправке, и сложить их.
Далее, арбитр вычитает сумму случайных из суммы которую прислал клиент, и если разница - сумма оригинальнных символов - всё ОК.

 
